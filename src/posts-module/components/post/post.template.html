<md-card>
    <img ng-src="{{$ctrl.post.imageUrl}}" class="md-card-image" alt="image caption">
    <div ng-if="$ctrl.isEdit == false">
        <md-card-title layout="row">
            <md-card-title-text>
                <span class="md-headline">{{$ctrl.post.title}}</span>
            </md-card-title-text>

            <div ng-if="$ctrl.post.author_id === $ctrl.userService.currentUser.id" layout="row" layout-align="end center">
                <md-button ng-click="$ctrl.editMode()" class="md-icon-button" aria-label="Edit">
                    <md-icon style="height: 16px; width: 16px; min-height: 16px; min-width: 16px;" md-svg-icon="data/icons/ic_create_black_18px.svg"></md-icon>
                </md-button>
                <md-button ng-click="$ctrl.showConfirm($event)" class="md-icon-button" aria-label="Remove">
                    <md-icon style="height: 16px; width: 16px; min-height: 16px; min-width: 16px;" md-svg-icon="data/icons/ic_clear_black_18px.svg"></md-icon>
                </md-button>
            </div>

        </md-card-title>

        <md-card-content>
            <p>{{$ctrl.post.description}}</p>
        </md-card-content>
    </div>

    <editable-post ng-if="$ctrl.isEdit==true" post="$ctrl.post" on-cancel="$ctrl.cancelEdit()" on-edit="$ctrl.changePost(post)"></editable-post>
    <md-card-content>
        <div layout="row" layout-align="end center">
            <span style="font-size:small; margin: 5px;">Пользователь {{$ctrl.post.user}}</span>
            <span style="font-size:small; margin: 5px;">{{$ctrl.post.uploadDate| date:'dd.MM.yyyy HH:mm'}}</span>
        </div>
    </md-card-content>
    <md-card-actions>
        <md-button flex type="button" ng-click="$ctrl.showComments()"> {{$ctrl.buttonText}}</md-button>
    </md-card-actions>
    <comments-list ng-if="$ctrl.isShown" id='$ctrl.id' comments='$ctrl.comments'></comments-list>
</md-card>